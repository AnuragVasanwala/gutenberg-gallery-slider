(window.webpackJsonp_gallery_slider=window.webpackJsonp_gallery_slider||[]).push([[1],{10:function(e,t,n){}}]),function(e){function t(t){for(var r,a,i=t[0],s=t[1],c=t[2],d=0,m=[];d<i.length;d++)a=i[d],Object.prototype.hasOwnProperty.call(l,a)&&l[a]&&m.push(l[a][0]),l[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(u&&u(t);m.length;)m.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,i=1;i<n.length;i++){var s=n[i];0!==l[s]&&(r=!1)}r&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},l={0:0},o=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var i=window.webpackJsonp_gallery_slider=window.webpackJsonp_gallery_slider||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=s;o.push([15,1]),n()}([function(e,t){e.exports=window.wp.element},function(e,t){e.exports=window.wp.components},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=window.wp.blockEditor},function(e,t){e.exports=window.wp.primitives},function(e,t,n){var r=n(11),l=n(12),o=n(13),a=n(14);e.exports=function(e){return r(e)||l(e)||o(e)||a()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=window.wp.i18n},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=window.wp.blocks},function(e,t){e.exports=window.wp.compose},,function(e,t,n){var r=n(7);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(7);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";n.r(t);var r,l=n(8),o=(n(10),n(0)),a=n(6),i=n(1),s=n(3),c=n(4),u=Object(o.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(o.createElement)(c.Path,{d:"M14.103 7.128l2.26-2.26a4 4 0 00-5.207 4.804L5.828 15a2 2 0 102.828 2.828l5.329-5.328a4 4 0 004.804-5.208l-2.261 2.26-1.912-.512-.513-1.912zm-7.214 9.64a.5.5 0 11.707-.707.5.5 0 01-.707.707z"})),d=Object(o.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(o.createElement)(c.Path,{d:"M4 6v12c0 1.1.9 2 2 2h3v-1.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h3V4H6c-1.1 0-2 .9-2 2zm7.2 16h1.5V2h-1.5v20zM15 5.5h1.5V4H15v1.5zm3.5.5H20c0-1.1-.9-2-2-2v1.5c.3 0 .5.2.5.5zm0 10.5H20v-2h-1.5v2zm0-3.5H20v-2h-1.5v2zm-.5 5.5V20c1.1 0 2-.9 2-2h-1.5c0 .3-.2.5-.5.5zM15 20h1.5v-1.5H15V20zm3.5-10.5H20v-2h-1.5v2z"})),m=n(2),p=n.n(m),f=n(5),g=n.n(f),y=n(9);function v(e,t,n){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=[];if(r=t,e&&null!==l){var i=["image","video"];t&&a.push(Object(o.createElement)(s.MediaPlaceholder,{key:"gallery-slider-mph",id:!0,onSelect:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r.title)}for(var o=[],a=0;a<e.length;a++)o.push([0,0]);l({caption_location:o}),l({captions:t}),l({medias:e})},render:function(e){var t=e.open;console.log(t)},allowedTypes:i,multiple:"add",value:n.medias}))}else a.push(Object(o.createElement)(s.RichText.Content,{tagName:"p",value:n.test_content}));return a.push(Object(o.createElement)("div",{key:"gallery-slider-container",className:"slideshow-container"},b(n,l),h(n.show_arrows))),a.push(Object(o.createElement)("div",{key:"gallery-slider-indicators-container",className:"slideshow-indicators"},_(void 0!==n.medias?n.medias.length:0,n.show_indicators))),console.log(n.transition_time_ms),0==n.auto_transition&&(n.transition_time_ms=0),t?(clearTimeout(w),a.push(Object(o.createElement)("input",{type:"hidden",key:"gallery-slider-congif-transition_time_ms",id:"transition_time_ms",name:"transition_time_ms",value:0}))):a.push(Object(o.createElement)("input",{type:"hidden",key:"gallery-slider-congif-transition_time_ms",id:"transition_time_ms",name:"transition_time_ms",value:n.transition_time_ms})),a}function h(e){var t=[];return!0===e&&(t.push(Object(o.createElement)("p",{key:"gallery-slider-nav-next-btnx",id:"gallery-slider-prev-btn",className:"prev",onClick:function(){return O(-1)}},"❮")),t.push(Object(o.createElement)("p",{key:"gallery-slider-nav-prev-btnx",id:"gallery-slider-next-btn",className:"next",onClick:function(){return O(1)}},"❯"))),t}function b(e,t){var n=[],l=e.medias,a=e.captions,i=e.caption_location,c=(e.setState,g()(a)),u=g()(i);if(void 0!==l){for(var d=function(a){var i,d,m,g,y=l[a];f="translate3d("+u[a][0]+"px, "+u[a][1]+"px, 0)","image"===y.type?r?n.push(Object(o.createElement)("div",{className:"rt_gallery_slider fadeIn",key:"gallery-slider-slide-"+a},Object(o.createElement)("img",{className:"gs-img",src:y.url}),Object(o.createElement)("div",{id:"gallery-slider-slide-ct-"+a,className:"textEditor",key:"gallery-slider-slide-ct-"+a,style:{transform:f},onMouseDown:function(e){return A(e,a)},onMouseUp:function(e){return B(0,a)},onMouseMove:function(n){return V(n,a,t,e)}},Object(o.createElement)(s.RichText,(i={key:"gallery-slider-slide-ct-"+a,tagName:"p",id:"gallery-slider-slide-ct-rt-"+a},p()(i,"key","gallery-slider-slide-ct-rt-"+a),p()(i,"value",null===c[a]?"":c[a]),p()(i,"className","textEditorX"),p()(i,"onChange",(function(e){var n=e;c[a]=n,t({captions:c})})),i))))):n.push(Object(o.createElement)("div",{className:"rt_gallery_slider fadeIn",key:"gallery-slider-slide-"+a},Object(o.createElement)("img",{className:"gs-img",src:y.url}),Object(o.createElement)("div",{id:"gallery-slider-slide-ct-"+a,className:"textEditor",key:"gallery-slider-slide-ct-"+a,style:{transform:f}},Object(o.createElement)(s.RichText.Content,(d={key:"gallery-slider-slide-ct-"+a,tagName:"p",className:"textEditorX",id:"gallery-slider-slide-ct-rt-"+a},p()(d,"key","gallery-slider-slide-ct-rt-"+a),p()(d,"value",null===c[a]?"":c[a]),d))))):r?n.push(Object(o.createElement)("div",{className:"rt_gallery_slider fadeIn",key:"gallery-slider-slide-"+a,onMouseUp:function(e){return B(0,a)}},Object(o.createElement)("video",{controls:!0,className:"gs-video",src:y.url}),Object(o.createElement)("div",{id:"gallery-slider-slide-ct-"+a,className:"textEditor",key:"gallery-slider-slide-ct-"+a,style:{transform:f},onMouseDown:function(e){return A(e,a)},onMouseUp:function(e){return B(0,a)},onMouseMove:function(n){return V(n,a,t,e)}},Object(o.createElement)(s.RichText,(m={key:"gallery-slider-slide-ct-"+a,tagName:"p",id:"gallery-slider-slide-ct-rt-"+a},p()(m,"key","gallery-slider-slide-ct-rt-"+a),p()(m,"value",null===c[a]?"":c[a]),p()(m,"className","textEditorX"),p()(m,"onChange",(function(e){var n=e;c[a]=n,t({captions:c})})),m))))):n.push(Object(o.createElement)("div",{className:"rt_gallery_slider fadeIn",key:"gallery-slider-slide-"+a},Object(o.createElement)("video",{controls:!0,className:"gs-video",src:y.url}),Object(o.createElement)("div",{id:"gallery-slider-slide-ct-"+a,className:"textEditor",key:"gallery-slider-slide-ct-"+a,style:{transform:f}},Object(o.createElement)(s.RichText.Content,(g={key:"gallery-slider-slide-ct-"+a,tagName:"p",className:"textEditorX",id:"gallery-slider-slide-ct-rt-"+a},p()(g,"key","gallery-slider-slide-ct-rt-"+a),p()(g,"value",null===c[a]?"":c[a]),g)))))},m=0;m<l.length;m++){var f;d(m)}return n}}function _(e,t){var n=[];if(!0===t)for(var r=function(e){n.push(Object(o.createElement)("span",{key:"gallery-slider-indicator-"+e,className:"indicator",target:e,onClick:function(){return t=e,n=document.getElementsByClassName("rt_gallery_slider"),x<0&&(x=n.length-1),x>=n.length&&(x=0),I=!1,n.length>0&&"video"==n[x].childNodes[0].tagName.toLowerCase()&&n[x].childNodes[0].pause(),t=parseInt(t),x=t,void E(!0,!0);var t,n}}))},l=0;l<e;l++)r(l);return n}var w,x=0;function O(e){var t=document.getElementsByClassName("rt_gallery_slider");x<0&&(x=t.length-1),x>=t.length&&(x=0),I=!1,t.length>0&&"video"==t[x].childNodes[0].tagName.toLowerCase()&&t[x].childNodes[0].pause(),e=parseInt(e),x+=e,E(!1,!0)}function E(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];I=!1;var n=document.getElementsByClassName("rt_gallery_slider"),l=document.getElementsByClassName("indicator"),o=document.getElementById("transition_time_ms");if(console.log(o),(null===o||o.value>=2e3||0===n.length)&&(clearTimeout(w),null===o||r&&!t?(w=setTimeout(E,2e3),console.log("Timer for 2")):(w=setTimeout(E,o.value),console.log("Timer for N"))),console.log(r+" - "+!t),(!r||t)&&0!==n.length){for(var a=0;a<n.length;a++)n[a].style.display="none",l.length>0&&(l[a].className=l[a].className.replace(" active",""));if(x<0&&(x=n.length-1),x>=n.length&&(x=0),n[x].style.display="block",l.length>0&&(l[x].className+=" active"),"video"==n[x].childNodes[0].tagName.toLowerCase()){clearTimeout(w),console.log("##"),n[x].childNodes[0].currentTime=0;var i=n[x].childNodes[0].play();return void 0!==i&&i.catch((function(e){n[x].childNodes[0].setAttribute("controls","controls")})).then((function(){n[x].childNodes[0].removeAttribute("controls")})),void(n[x].childNodes[0].onended=function(){O(1)})}!0===e&&x++}}E(),Object(y.withState)({isVisible:!1})((function(e){var t=e.isVisible,n=e.setState;return Object(o.createElement)(i.Button,{isSecondary:!0,onClick:function(){n((function(e){return{isVisible:!e.isVisible}}))}},"Toggle Popover!",t&&Object(o.createElement)(i.Popover,null,"Popover is toggled!"))}));var j,N,k,S,C,T,M,P,I=!1;function A(e,t){return"touchstart"===e.type?(C[t]=e.touches[0].clientX-M[t],T[t]=e.touches[0].clientY-P[t]):(C[t]=e.clientX-M[t],T[t]=e.clientY-P[t]),I=!1,j=document.querySelector("#gallery-slider-slide-ct-rt-"+t),console.log("e.target === dragItem : "+(e.target===j)),e.target===j&&(I=!0),I}function B(e,t){return console.log("dEnd +"),C[t]=k[t],T[t]=S[t],I=!1,!0}function V(e,t,n,r){I&&(e.preventDefault(),"touchmove"===e.type?(k[t]=e.touches[0].clientX-C[t],S[t]=e.touches[0].clientY-T[t]):(k[t]=e.clientX-C[t],S[t]=e.clientY-T[t]),M[t]=k[t],P[t]=S[t],N=document.querySelector("#gallery-slider-slide-ct-"+t),function(e,t,n,r,l,o){var a=l.caption_location,i=(l.setState,g()(a)),s=R(n);i[o]=s,r({caption_location:i}),console.log("setTx = "),n.style.transform="translate3d("+e+"px, "+t+"px, 0)",console.log(R(n))}(k[t],S[t],N,n,r,t))}function R(e){var t=e.style.transform.split(/\w+\(|\);?/);if(!t[1]||!t[1].length)return[];for(var n=t[1].split(/,\s?/g),r=0;r<n.length;r++)n[r]=parseInt(n[r].replace("px",""));return n}document.addEventListener("DOMContentLoaded",(function(e){setTimeout((function(){console.log("DOC READY!"),function(e){j=document.querySelector("#item"),N=document.querySelector("#container"),k=[],S=[],C=[],T=[],M=[],P=[];for(var t=0;t<10;t++)k.push(0),S.push(0),C.push(0),T.push(0),M.push(0),P.push(0)}()}),500)})),Object(l.registerBlockType)("rt-gallery-slider/gallery-slider",{attributes:{show_arrows:{type:"boolean",default:!0},show_indicators:{type:"boolean",default:!0},auto_transition:{type:"boolean",default:!0},transition_effect:{type:"string",default:"fade"},transition_time_ms:{type:"number",default:5e3},medias:{type:"array",default:[]},captions:{type:"array",default:[]},caption_location:{type:"array",default:[]},test_content:{source:"html",selector:"p"}},edit:function(e){var t=e.attributes,n=e.setAttributes,r=e.isSelected;return Object(o.createElement)("div",Object(s.useBlockProps)(),function(e,t){var n=[],r=e.show_arrows,l=e.show_indicators,c=e.auto_transition,m=e.transition_effect,p=e.transition_time_ms;return e.setState,n.push(Object(o.createElement)(s.InspectorControls,{key:"setting"},Object(o.createElement)(i.Panel,null,Object(o.createElement)(i.PanelBody,{title:"View Settings",icon:u,initialOpen:!0},Object(o.createElement)(i.PanelRow,null,Object(o.createElement)(i.ToggleControl,{label:"Show Arrows",checked:r,onChange:function(e){t({show_arrows:e})}})),Object(o.createElement)(i.PanelRow,null,Object(o.createElement)(i.ToggleControl,{label:"Show Indicators",checked:l,onChange:function(e){t({show_indicators:e})}}))),Object(o.createElement)(i.PanelBody,{title:"Transition",icon:d,initialOpen:!1},Object(o.createElement)(i.PanelRow,null,Object(o.createElement)(i.SelectControl,{label:Object(a.__)("Transition Effect:"),value:m,onChange:function(e){t({transition_effect:e})},options:[{value:null,label:"Select transition effect",disabled:!0},{value:"fade",label:"Fade"},{value:"slide",label:"Slide"}]})),Object(o.createElement)(i.PanelRow,null,Object(o.createElement)(i.ToggleControl,{label:"Auto Transition",checked:c,onChange:function(e){t({auto_transition:e})}})),Object(o.createElement)(i.PanelRow,null,Object(o.createElement)(i.RangeControl,{label:"Transition Time (milliSeconds)",value:p,min:2500,max:15e3,onChange:function(e){t({transition_time_ms:e})},disabled:!c,marks:[{value:2500,label:"Fast"},{value:7500,label:"Normal"},{value:15e3,label:"Slow"}]})))))),n}(t,n),v(!0,r,t,n))},save:function(e){return console.log("save ->>>>>>>>>> "+e),Object(o.createElement)("div",s.useBlockProps.save(),v(!1,!1,e.attributes))}})}]);